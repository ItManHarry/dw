<!DOCTYPE html>
<html lang="en">
{%load static%}
<head>
    <meta charset="UTF-8">
    <title>Author Index Page</title>
    <link rel="icon" type="image/x-icon" href="{%static 'images/icon/sys.ico'%}">
    <link rel="stylesheet" type="text/css" href="{%static 'css/bootstrap.min.css'%}">
    <link rel="stylesheet" type="text/css" href="{%static 'css/bootstrap-icons.css'%}">
    <link rel="stylesheet" type="text/css" href="{%static 'css/jquery-confirm.min.css'%}">
</head>
<body>
<div class="container-fluid">
    <div class="row">
        <div class="col text-end">
           <a href="{%url 'mfms:author_add'%}" class="btn btn-primary">新增</a>&nbsp;&nbsp;
            <a href="{%url 'mfms:index'%}" class="btn btn-outline-secondary">Home</a>
        </div>
    </div>
    <table class="table table-hover">
        <tr>
            <th>Title</th>
            <th>Name</th>
            <th>Birthday</th>
            <th>Books</th>
            <th>Action</th>
        </tr>
        {%for author in authors%}
        <tr>
            <td>{{author.title}}</td>
            <td>{{author.name}}</td>
            {%if author.birth_date%}
            <td>{{author.birth_date}}</td>
            {%else%}
            <td>-</td>
            {%endif%}
            {%if author.books%}
            <td>
                {%for book in author.books%}
                    &lt;&lt;{{book.name}}&gt;&gt;
                {%endfor%}
            </td>
            {%else%}
            <td>-</td>
            {%endif%}
            <td>
                <a href="{%url 'mfms:author_edit' author.id%}" class="btn btn-outline-info btn-sm">Edit</a>
            </td>
        </tr>
        {%endfor%}
    </table>
</div>
<script type="text/javascript" src="{%static 'js/jquery-3.6.1.min.js'%}"></script>
<script type="text/javascript" src="{%static 'js/bootstrap.bundle.min.js'%}"></script>
<script type="text/javascript" src="{%static 'js/jquery-confirm.min.js'%}"></script>
<script>
    $(function(){
       //alert('OK')
    })
</script>
</body>
</html>